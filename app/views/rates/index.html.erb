<% @shopOrigin = "https://#{ @shop_session.url }" if @shop_session %>

<%= react_component(
      "RateEditor",
      props: {
        apiKey: ShopifyApp.configuration.api_key,
        shopOrigin: @shopOrigin,
        debug: Rails.env.development? ? 'true' : 'false',
        forceRedirect: true,
        shop_session: @shop_session,
        rate: @rateWithConditions,
        rates: @ratesWithConditions,
        shop: @shop,
        matcher: {
          productFields: Matcher::PRODUCT_FIELDS,
          addressFields: Matcher::ADDRESS_FIELDS,
          fields: Matcher::FIELDS,
          verbs: Matcher::VERBS
        },
        form_authenticity_token: form_authenticity_token,
        bundles: @bundles,
        }, prerender: false) %>
